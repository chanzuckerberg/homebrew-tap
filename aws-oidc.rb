# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class AwsOidc < Formula
  desc "A command line utility tool to help generate AWS STS credentials from an OIDC application."
  homepage "https://github.com/chanzuckerberg/aws-oidc"
  version "0.33.0"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/chanzuckerberg/aws-oidc/releases/download/v0.33.0/aws-oidc_0.33.0_darwin_amd64.tar.gz"
      sha256 "4e99ab633b1555287dc3662bca39742293927c06832d2ab73f54fd6e7309b3ed"

      define_method(:install) do
        bin.install "aws-oidc"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/chanzuckerberg/aws-oidc/releases/download/v0.33.0/aws-oidc_0.33.0_darwin_arm64.tar.gz"
      sha256 "f9d0e0ef7e7aed21e5d673dd9b0468019f7969d4166b73f7d2342fbe12bb7782"

      define_method(:install) do
        bin.install "aws-oidc"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel? && Hardware::CPU.is_64_bit?
      url "https://github.com/chanzuckerberg/aws-oidc/releases/download/v0.33.0/aws-oidc_0.33.0_linux_amd64.tar.gz"
      sha256 "55225a37bdeaf2b3eb76870ae0905d484dc9bbd3998e5ecae9879dcb609e439b"
      define_method(:install) do
        bin.install "aws-oidc"
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/chanzuckerberg/aws-oidc/releases/download/v0.33.0/aws-oidc_0.33.0_linux_arm64.tar.gz"
      sha256 "e9fd6a7427f134910ef5764fefbb4d0c9a97da10c9390c7e8c20317d8ee74dc4"
      define_method(:install) do
        bin.install "aws-oidc"
      end
    end
  end

  test do
    system "#{bin}/aws-oidc version"
  end
end
